---
name: digest-auto
description: EpisodicRAG å¥å…¨æ€§è¨ºæ–­ã¨éšå±¤æ¨å¥¨
---

# digest-auto - å¥å…¨æ€§è¨ºæ–­ã¨éšå±¤æ¨å¥¨ã‚¹ã‚­ãƒ«

EpisodicRAG ã‚·ã‚¹ãƒ†ãƒ ã®ç¾åœ¨ã®çŠ¶æ…‹ã‚’åˆ†æã™ã‚‹ã“ã¨ã§ã€
ã¾ã ã‚‰ãƒœã‚±ï¼ˆæœªå‡¦ç† Loop/ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼/æ¬ ç•ªï¼‰ã‚’æ¤œå‡ºã—ã€
ç”Ÿæˆå¯èƒ½ãªãƒ€ã‚¤ã‚¸ã‚§ã‚¹ãƒˆéšå±¤ã‚’æ¨å¥¨ã™ã‚‹ã‚¹ã‚­ãƒ«ã§ã™ã€‚

## ç”¨èªèª¬æ˜

> ğŸ“– ãƒ‘ã‚¹ç”¨èªï¼ˆplugin_root / base_dir / pathsï¼‰ã¯ [_common-concepts.md](../shared/_common-concepts.md#ãƒ‘ã‚¹ç”¨èª) ã‚’å‚ç…§

## ç›®æ¬¡

1. [ã¾ã ã‚‰ãƒœã‚±ã¨ã¯](#ã¾ã ã‚‰ãƒœã‚±ã¨ã¯)
   - EpisodicRAG ã®æœ¬è³ª
   - ã¾ã ã‚‰ãƒœã‚±ãŒç™ºç”Ÿã™ã‚‹ã‚±ãƒ¼ã‚¹
   - è¨˜æ†¶å®šç€ã‚µã‚¤ã‚¯ãƒ«
2. [åˆ†æãƒ•ãƒ­ãƒ¼](#åˆ†æãƒ•ãƒ­ãƒ¼)
   1. è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿
   2. æœªå‡¦ç† Loop æ¤œå‡ºï¼ˆæœ€å„ªå…ˆãƒ»ã¾ã ã‚‰ãƒœã‚±äºˆé˜²ï¼‰
   3. ShadowGrandDigest ç¢ºèª
   4. ä¸­é–“ãƒ•ã‚¡ã‚¤ãƒ«ã‚¹ã‚­ãƒƒãƒ—æ¤œå‡º
   5. GrandDigest ç¢ºèª
   6. ç”Ÿæˆå¯èƒ½ãªéšå±¤åˆ¤å®š
   7. ã¾ã ã‚‰ãƒœã‚±æ¤œå‡ºï¼ˆã‚±ãƒ¼ã‚¹ 2: ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼æ¤œå‡ºï¼‰
   8. æ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³æç¤º
3. [å‡ºåŠ›ä¾‹](#å‡ºåŠ›ä¾‹)
   - ã‚¨ãƒ©ãƒ¼ç³»ï¼ˆå³çµ‚äº†ï¼‰
     - ä¾‹ 1: åˆæœŸã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æœªå®Œäº†ï¼ˆã‚¹ãƒ†ãƒƒãƒ— 1ï¼‰
     - ä¾‹ 2: ShadowGrandDigest æœªä½œæˆï¼ˆã‚¹ãƒ†ãƒƒãƒ— 3ï¼‰
     - ä¾‹ 3: æœªå‡¦ç† Loop æ¤œå‡ºï¼ˆã‚¹ãƒ†ãƒƒãƒ— 2ãƒ»ã¾ã ã‚‰ãƒœã‚±äºˆé˜²ï¼‰
     - ä¾‹ 4: ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼æ¤œå‡ºï¼ˆã‚¹ãƒ†ãƒƒãƒ— 7ãƒ»ã¾ã ã‚‰ãƒœã‚±ï¼‰
   - è­¦å‘Šç³»ï¼ˆå‡¦ç†ç¶™ç¶šï¼‰
     - ä¾‹ 5: ä¸­é–“ãƒ•ã‚¡ã‚¤ãƒ«ã‚¹ã‚­ãƒƒãƒ—æ¤œå‡ºï¼ˆã‚¹ãƒ†ãƒƒãƒ— 4ï¼‰
   - æ­£å¸¸ç³»ï¼ˆæ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ï¼‰
     - ä¾‹ 6: ç”Ÿæˆå¯èƒ½ãªãƒ€ã‚¤ã‚¸ã‚§ã‚¹ãƒˆã‚ã‚Šï¼ˆã‚¹ãƒ†ãƒƒãƒ— 8ï¼‰
     - ä¾‹ 7: ç”Ÿæˆä¸å¯ãƒ»ãƒ•ã‚¡ã‚¤ãƒ«ä¸è¶³ï¼ˆã‚¹ãƒ†ãƒƒãƒ— 8ï¼‰
     - ä¾‹ 8: è¤‡æ•°éšå±¤ç”Ÿæˆå¯èƒ½ï¼ˆã‚¹ãƒ†ãƒƒãƒ— 8ï¼‰
4. [å®Ÿè£…æ™‚ã®æ³¨æ„äº‹é …](#å®Ÿè£…æ™‚ã®æ³¨æ„äº‹é …)
   - UI ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®å‡ºåŠ›å½¢å¼
   - config.py ã¸ã®ä¾å­˜
   - ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
   - éšå±¤é †åºã®ç¶­æŒ
   - å®Ÿè£…æ™‚ã®å„ªå…ˆé †ä½

---

## ã¾ã ã‚‰ãƒœã‚±ã¨ã¯

**ã¾ã ã‚‰ãƒœã‚±** = AIãŒLoopã®å†…å®¹ã‚’è¨˜æ†¶ã§ãã¦ã„ãªã„ï¼ˆè™«é£Ÿã„è¨˜æ†¶ï¼‰çŠ¶æ…‹

> ğŸ“– **SSoT**: ç™ºç”Ÿãƒ‘ã‚¿ãƒ¼ãƒ³ãƒ»è¨˜æ†¶å®šç€ã‚µã‚¤ã‚¯ãƒ«ãƒ»å¯¾ç­–ã®è©³ç´°ã¯ [_common-concepts.md](../shared/_common-concepts.md#ã¾ã ã‚‰ãƒœã‚±ã¨ã¯) ã‚’å‚ç…§

---

## åˆ†æãƒ•ãƒ­ãƒ¼

### 1. è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿

```python
from config import DigestConfig

config = DigestConfig()  # è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ä¸åœ¨æ™‚ã¯ @digest-setup ã‚’å®Ÿè¡Œ

# å„éšå±¤ã®é–¾å€¤ã‚’å–å¾—
levels = ["weekly", "monthly", "quarterly", "annual", "triennial",
          "decadal", "multi_decadal", "centurial"]
thresholds = {level: getattr(config, f"{level}_threshold") for level in levels}
```

### 2. æœªå‡¦ç† Loop æ¤œå‡ºï¼ˆæœ€å„ªå…ˆãƒ»ã¾ã ã‚‰ãƒœã‚±äºˆé˜²ï¼‰

**é‡è¦**: ä»–ã®ãƒã‚§ãƒƒã‚¯ã‚ˆã‚Šå…ˆã«ã€æœªå‡¦ç† Loop ã®æœ‰ç„¡ã‚’ç¢ºèªã—ã¾ã™ã€‚

```python
# Loopãƒ•ã‚¡ã‚¤ãƒ«ã¨å‡¦ç†æ¸ˆã¿Loopã‚’å–å¾—
loop_files = list(config.loops_path.glob("Loop*.txt"))
last_digest_file = config.plugin_root / ".claude-plugin" / "last_digest_times.json"
last_processed = json.load(open(last_digest_file)).get("weekly", {}).get("last_processed") \
                 if last_digest_file.exists() else None

# last_processedã‚ˆã‚Šå¾Œã®Loopã‚’æ¤œå‡º
unprocessed = [f.stem for f in loop_files
               if not last_processed or extract_number(f.stem) > extract_number(last_processed)]

# æœªå‡¦ç†Loopã‚ã‚Š = è­¦å‘Šã—ã¦å³çµ‚äº†
if unprocessed:
    print(f"âš ï¸ æœªå‡¦ç†Loopæ¤œå‡º: {len(unprocessed)}å€‹")
    for loop in unprocessed: print(f"  - {loop}")
    print("ğŸ”´ å…ˆã« `/digest` ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„ï¼ˆã¾ã ã‚‰ãƒœã‚±äºˆé˜²ï¼‰")
    sys.exit(0)
```

### 3. ShadowGrandDigest ç¢ºèª

æœªç¢ºå®šã®ãƒ•ã‚¡ã‚¤ãƒ«æ•°ã‚’ç¢ºèªã—ã¾ã™ï¼š

```python
# ShadowGrandDigestèª­ã¿è¾¼ã¿
shadow_file = config.essences_path / "ShadowGrandDigest.txt"
if not shadow_file.exists():
    print("âš ï¸ ShadowGrandDigest.txt ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“")
    sys.exit(0)

shadow_data = json.load(open(shadow_file))
```

### 4. ä¸­é–“ãƒ•ã‚¡ã‚¤ãƒ«ã‚¹ã‚­ãƒƒãƒ—æ¤œå‡º

æ¬¡å›ç¢ºå®šäºˆå®šã®ãƒ•ã‚¡ã‚¤ãƒ«ç¾¤ã®é€£ç•ªã‚’ãƒã‚§ãƒƒã‚¯ã—ã€æ¬ ç•ªã‚’æ¤œå‡ºã—ã¾ã™ï¼š

```python
# å„éšå±¤ã®source_filesã§é€£ç•ªãƒã‚§ãƒƒã‚¯
def find_gaps(numbers):
    return [n for i in range(len(numbers)-1) for n in range(numbers[i]+1, numbers[i+1])]

gaps = {}
for level in levels:
    files = shadow_data.get("latest_digests", {}).get(level, {}) \
                       .get("overall_digest", {}).get("source_files", [])
    if len(files) > 1:
        nums = [extract_number(f) for f in files]
        missing = find_gaps(sorted(nums))
        if missing:
            gaps[level] = {"range": f"{files[0]}ï½{files[-1]}", "missing": missing}

# è­¦å‘Šè¡¨ç¤ºï¼ˆå‡¦ç†ã¯ç¶™ç¶šï¼‰
if gaps:
    print("âš ï¸ ä¸­é–“ãƒ•ã‚¡ã‚¤ãƒ«ã‚¹ã‚­ãƒƒãƒ—æ¤œå‡º")
    for level, info in gaps.items():
        print(f"ğŸ“ {level}: {info['range']} - æ¬ ç•ª {len(info['missing'])}å€‹")
    print("æ¬ ç•ªã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ã‚’æ¨å¥¨ã—ã¾ã™ï¼ˆã¾ã ã‚‰ãƒœã‚±äºˆé˜²ï¼‰")
```

### 5. GrandDigest ç¢ºèª

å„éšå±¤ã®ç¢ºå®šæ¸ˆã¿ãƒ•ã‚¡ã‚¤ãƒ«æ•°ã‚’ç¢ºèªã—ã¾ã™ï¼š

```python
# GrandDigestèª­ã¿è¾¼ã¿ï¼ˆå­˜åœ¨ã—ãªã„å ´åˆã¯å…¨ã¦0ï¼‰
grand_file = config.essences_path / "GrandDigest.txt"
grand_data = json.load(open(grand_file)) if grand_file.exists() else {}
grand_counts = {level: len(grand_data.get(level, [])) for level in levels}
```

### 6. ç”Ÿæˆå¯èƒ½ãªéšå±¤åˆ¤å®š

```python
# éšå±¤ã”ã¨ã®ç¾åœ¨æ•°ã‚’å–å¾—
prev_map = {"monthly": "weekly", "quarterly": "monthly", "annual": "quarterly",
            "triennial": "annual", "decadal": "triennial",
            "multi_decadal": "decadal", "centurial": "multi_decadal"}

current_counts = {}
for level in levels:
    if level == "weekly":
        current_counts[level] = len(unprocessed)  # æœªå‡¦ç†Loopæ•°
    else:
        current_counts[level] = grand_counts[prev_map[level]]

# ç”Ÿæˆå¯èƒ½/ä¸å¯ã‚’åˆ¤å®š
can_generate = [(level, current_counts[level], thresholds[level])
                for level in levels if current_counts[level] >= thresholds[level]]
needs_more = [(level, current_counts[level], thresholds[level],
               thresholds[level] - current_counts[level])
              for level in levels if current_counts[level] < thresholds[level]]
```

### 7. ã¾ã ã‚‰ãƒœã‚±æ¤œå‡ºï¼ˆã‚±ãƒ¼ã‚¹ 2: ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼æ¤œå‡ºï¼‰

ShadowGrandDigest ã«ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ãŒæ®‹ã£ã¦ã„ãªã„ã‹ç¢ºèªã—ã¾ã™ï¼ˆ`/digest`å‡¦ç†ä¸­ã®ã‚¨ãƒ©ãƒ¼ã«ã‚ˆã‚‹æœªå®Œäº†çŠ¶æ…‹ï¼‰ï¼š

```python
# source_filesã‚ã‚Šã§digestãŒnull = ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼
placeholders = [(level, files) for level in levels
                for digest_data in [shadow_data.get("shadow_digests", {}).get(level, {})]
                for files in [digest_data.get("source_files", [])]
                if len(files) > 0 and digest_data.get("digest") is None]

# ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ã‚ã‚Š = è­¦å‘Šã—ã¦å³çµ‚äº†
if placeholders:
    print("âš ï¸ ã¾ã ã‚‰ãƒœã‚±æ¤œå‡ºï¼ˆã‚±ãƒ¼ã‚¹2: ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ï¼‰")
    for level, files in placeholders:
        print(f"  {level}: {len(files)}å€‹ã®ãƒ•ã‚¡ã‚¤ãƒ«æœªåˆ†æ")
    print("å…ˆã« `/digest` ã‚’å®Ÿè¡Œã—ã¦åˆ†æã‚’å®Œäº†ã—ã¦ãã ã•ã„")
    sys.exit(0)
```

### 8. æ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³æç¤º

ç”Ÿæˆå¯èƒ½ãªéšå±¤ã¨ä¸è¶³ãƒ•ã‚¡ã‚¤ãƒ«æ•°ã‚’è¡¨ç¤ºã—ã¾ã™ï¼š

```python
print("ğŸ“Š EpisodicRAG ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹")
print()
# ç”Ÿæˆå¯èƒ½ãªéšå±¤
if can_generate:
    print("âœ… ç”Ÿæˆå¯èƒ½ãªãƒ€ã‚¤ã‚¸ã‚§ã‚¹ãƒˆ")
    for level, current, threshold in can_generate:
        print(f"  âœ… {level} ({current}/{threshold}) â†’ `/digest {level}` ã§ç”Ÿæˆå¯èƒ½")
# ä¸è¶³ã—ã¦ã„ã‚‹éšå±¤
if needs_more:
    print("\nâ³ ç”Ÿæˆã«å¿…è¦ãªãƒ•ã‚¡ã‚¤ãƒ«æ•°")
    for level, current, threshold, need in needs_more:
        print(f"  âŒ {level} ({current}/{threshold}) - ã‚ã¨{need}å€‹å¿…è¦")
```

**æ³¨æ„**: ã‚¨ãƒ©ãƒ¼ãŒæ¤œå‡ºã•ã‚ŒãŸå ´åˆã¯ã€å³åº§ã«è­¦å‘Šã‚’è¡¨ç¤ºã—ã¦çµ‚äº†ã—ã¾ã™ï¼ˆè©³ç´°ã¯ã€Œå‡ºåŠ›ä¾‹ 1-4ã€å‚ç…§ï¼‰ã€‚

---

## å‡ºåŠ›ä¾‹

### ã‚¨ãƒ©ãƒ¼ç³»ï¼ˆå³çµ‚äº†ï¼‰

#### ä¾‹ 1: åˆæœŸã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æœªå®Œäº†ï¼ˆã‚¹ãƒ†ãƒƒãƒ— 1ï¼‰

è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚„ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ãŒå­˜åœ¨ã—ãªã„å ´åˆã®ã‚¨ãƒ©ãƒ¼å‡ºåŠ›ã§ã™ã€‚

```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âŒ åˆæœŸã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æœªå®Œäº†
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âŒ åˆæœŸã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãŒå¿…è¦ã§ã™
@digest-setup ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
```

**å¯¾å‡¦æ³•**: `@digest-setup` ã‚¹ã‚­ãƒ«ã‚’å®Ÿè¡Œã—ã¦åˆæœŸã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚’å®Œäº†ã—ã¦ãã ã•ã„ã€‚

#### ä¾‹ 2: ShadowGrandDigest æœªä½œæˆï¼ˆã‚¹ãƒ†ãƒƒãƒ— 3ï¼‰

ShadowGrandDigest.txt ãŒå­˜åœ¨ã—ãªã„å ´åˆã®ã‚¨ãƒ©ãƒ¼å‡ºåŠ›ã§ã™ã€‚

```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âš ï¸ å¿…è¦ãªãƒ•ã‚¡ã‚¤ãƒ«ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âš ï¸ ShadowGrandDigest.txt ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“
@digest-setup ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
```

**å¯¾å‡¦æ³•**: `@digest-setup` ã‚¹ã‚­ãƒ«ã‚’å®Ÿè¡Œã—ã¦å¿…è¦ãªãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚

#### ä¾‹ 3: æœªå‡¦ç† Loop æ¤œå‡ºï¼ˆã‚¹ãƒ†ãƒƒãƒ— 2ãƒ»ã¾ã ã‚‰ãƒœã‚±äºˆé˜²ï¼‰

```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âš ï¸ æœªå‡¦ç†Loopæ¤œå‡ºï¼ˆã¾ã ã‚‰ãƒœã‚±äºˆé˜²ï¼‰
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

æœªå‡¦ç†ã®Loopãƒ•ã‚¡ã‚¤ãƒ«ãŒ 1å€‹ ã‚ã‚Šã¾ã™

  ğŸ“ æœªå‡¦ç†Loop:
     - Loop0001_èªçŸ¥ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è«–

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ”´ å…ˆã« `/digest` ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ç†ç”±: `/digest` ã‚’å®Ÿè¡Œã—ãªã„ã¨ã€ã“ã‚Œã‚‰ã®Loopã®å†…å®¹ã‚’
      AIã¯è¨˜æ†¶ã§ãã¾ã›ã‚“ï¼ˆã¾ã ã‚‰ãƒœã‚±çŠ¶æ…‹ï¼‰

é‡è¦: Loopã‚’è¿½åŠ ã—ãŸã‚‰éƒ½åº¦ `/digest` ã§è¨˜æ†¶ã‚’å®šç€ã•ã›ã‚‹
      ã“ã‚ŒãŒEpisodicRAGã®åŸºæœ¬åŸå‰‡ã§ã™

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“ˆ æ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—:

1. `/digest` ã§Loop0001ã‚’åˆ†æãƒ»è¨˜æ†¶å®šç€
2. æ–°ã—ã„Loopã‚’è¿½åŠ 
3. `/digest` ã§è¨˜æ†¶å®šç€ï¼ˆæ¯å›ï¼‰
4. 5å€‹æƒã£ãŸã‚‰ `/digest weekly` ã§éšå±¤åŒ–

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ’¡ EpisodicRAGã®åŸå‰‡
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

  Loopè¿½åŠ  â†’ `/digest` â†’ Loopè¿½åŠ  â†’ `/digest` â†’ ...

  ã“ã®ã€Œè¨˜æ†¶å®šç€ã‚µã‚¤ã‚¯ãƒ«ã€ã‚’å®ˆã‚‹ã“ã¨ã§ã€
  AIã¯å…¨ã¦ã®Loopã‚’è¨˜æ†¶ã§ãã¾ã™

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
```

#### ä¾‹ 4: ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼æ¤œå‡ºï¼ˆã‚¹ãƒ†ãƒƒãƒ— 7ãƒ»ã¾ã ã‚‰ãƒœã‚±ï¼‰

```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âš ï¸ ã¾ã ã‚‰ãƒœã‚±æ¤œå‡ºï¼ˆã‚±ãƒ¼ã‚¹2: ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ï¼‰
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ShadowGrandDigestã«æœªåˆ†æã®ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ãŒã‚ã‚Šã¾ã™

  âš ï¸ Weekly (3å€‹ã®ãƒ•ã‚¡ã‚¤ãƒ«):
     - Loop0196
     - Loop0197
     - Loop0198

ã“ã‚Œã‚‰ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯æ¤œå‡ºã•ã‚Œã¾ã—ãŸãŒã€
`/digest` å‡¦ç†ä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¦åˆ†æãŒæœªå®Œäº†ã§ã™

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ”§ å¯¾å‡¦æ–¹æ³•
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

å…ˆã« `/digest` ã‚’å®Ÿè¡Œã—ã¦åˆ†æã‚’å®Œäº†ã—ã¦ãã ã•ã„

åˆ†æå®Œäº†å¾Œã€å†åº¦ `/digest weekly` ã§ç¢ºå®šã§ãã¾ã™

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
```

---

### è­¦å‘Šç³»ï¼ˆå‡¦ç†ç¶™ç¶šï¼‰

#### ä¾‹ 5: ä¸­é–“ãƒ•ã‚¡ã‚¤ãƒ«ã‚¹ã‚­ãƒƒãƒ—æ¤œå‡ºï¼ˆã‚¹ãƒ†ãƒƒãƒ— 4ï¼‰

```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âš ï¸ ä¸­é–“ãƒ•ã‚¡ã‚¤ãƒ«ã‚¹ã‚­ãƒƒãƒ—æ¤œå‡º
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

æ¬¡å›ç¢ºå®šäºˆå®šã®ãƒ•ã‚¡ã‚¤ãƒ«ã«æ¬ ç•ªãŒæ¤œå‡ºã•ã‚Œã¾ã—ãŸ

ğŸ“ Loop: Loop0006ï½Loop0009
  - Loop0007 ãŒæ¬ ç•ª

ğŸ“ Weekly: W0001ï½W0005
  - W0003 ãŒæ¬ ç•ª

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âš ï¸ æ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

æ¬ ç•ªã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ã‚’æ¨å¥¨ã—ã¾ã™ã€‚

ã“ã®ã¾ã¾ç¢ºå®šã™ã‚‹ã¨ã€æ¬ ç•ªã®å†…å®¹ã¯AIã®è¨˜æ†¶ã«
å®šç€ã—ã¾ã›ã‚“ï¼ˆã¾ã ã‚‰ãƒœã‚±çŠ¶æ…‹ï¼‰ã€‚

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
```

---

### æ­£å¸¸ç³»ï¼ˆæ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ï¼‰

#### ä¾‹ 6: ç”Ÿæˆå¯èƒ½ãªãƒ€ã‚¤ã‚¸ã‚§ã‚¹ãƒˆã‚ã‚Šï¼ˆã‚¹ãƒ†ãƒƒãƒ— 8ï¼‰

```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“Š EpisodicRAG ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… ç”Ÿæˆå¯èƒ½ãªãƒ€ã‚¤ã‚¸ã‚§ã‚¹ãƒˆ

  âœ… Weekly (7/5 Loops)
     â†’ `/digest weekly` ã§ç”Ÿæˆã§ãã¾ã™ï¼

ğŸ“ˆ æ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³

  `/digest weekly` ã‚’å®Ÿè¡Œã—ã¦Weekly Digestã‚’ç”Ÿæˆã—ã¦ãã ã•ã„

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
```

#### ä¾‹ 7: ç”Ÿæˆä¸å¯ãƒ»ãƒ•ã‚¡ã‚¤ãƒ«ä¸è¶³ï¼ˆã‚¹ãƒ†ãƒƒãƒ— 8ï¼‰

```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“Š EpisodicRAG ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

â³ ç”Ÿæˆã«å¿…è¦ãªãƒ•ã‚¡ã‚¤ãƒ«æ•°

  âŒ Weekly (3/5 Loops) - ã‚ã¨2å€‹å¿…è¦

ğŸ“ˆ æ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³

  æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—:

  1. `/digest` ã§æœªå‡¦ç†Loopã‚’æ¤œå‡ºãƒ»åˆ†æ
  2. ã‚ã¨2å€‹ã®Loopãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿½åŠ 
  3. `/digest` ã§æ–°ã—ã„Loopã‚’æ¤œå‡ºãƒ»åˆ†æ
  4. `/digest weekly` ã§5å€‹æƒã£ãŸã‚‰ç¢ºå®š

  Loopãƒ•ã‚¡ã‚¤ãƒ«é…ç½®å…ˆ:
    homunculus/Weave/EpisodicRAG/Loops/

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
```

#### ä¾‹ 8: è¤‡æ•°éšå±¤ç”Ÿæˆå¯èƒ½ï¼ˆã‚¹ãƒ†ãƒƒãƒ— 8ï¼‰

```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“Š EpisodicRAG ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… ç”Ÿæˆå¯èƒ½ãªãƒ€ã‚¤ã‚¸ã‚§ã‚¹ãƒˆ

  âœ… Weekly (10/5 Loops)
     â†’ `/digest weekly` ã§ç”Ÿæˆã§ãã¾ã™ï¼

  âœ… Monthly (5/5 Weekly)
     â†’ `/digest monthly` ã§ç”Ÿæˆã§ãã¾ã™ï¼

ğŸ“ˆ æ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³

  1. `/digest weekly` ã§Weekly Digestã‚’ç”Ÿæˆ
  2. `/digest monthly` ã§Monthly Digestã‚’ç”Ÿæˆ

  æ¨å¥¨é †åº: ä¸‹ä½éšå±¤ï¼ˆWeeklyï¼‰ã‹ã‚‰é †ã«ç”Ÿæˆã—ã¦ãã ã•ã„

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
```

---

## å®Ÿè£…æ™‚ã®æ³¨æ„äº‹é …

> ğŸ“– å…±é€šã®å®Ÿè£…ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã¯ [_implementation-notes.md](../shared/_implementation-notes.md) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚
> - UIãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®å‡ºåŠ›å½¢å¼
> - config.py ã¸ã®ä¾å­˜
> - ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
> - éšå±¤é †åºã®ç¶­æŒ
> - å®Ÿè£…æ™‚ã®å„ªå…ˆé †ä½

---

**ã“ã®ã‚¹ã‚­ãƒ«ã¯ã€EpisodicRAG ã‚·ã‚¹ãƒ†ãƒ ã®çŠ¶æ…‹ã‚’åˆ†æã—ã€æœ€é©ãªã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’æ¨å¥¨ã—ã¾ã™ ğŸ“Š**

---
